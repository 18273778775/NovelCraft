# Novel Craft AIå°è¯´æ¶¦è‰²ç³»ç»Ÿ

ğŸ¨ **ä¸“ä¸šçš„AIé©±åŠ¨å°è¯´åˆ›ä½œä¸æ¶¦è‰²å¹³å°**

Novel Craftæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„å°è¯´åˆ›ä½œå¹³å°ï¼Œé›†æˆäº†DeepSeekå’Œè±†åŒ…åŒAIå¼•æ“ï¼Œä¸ºä½œå®¶æä¾›ä¸“ä¸šçš„æ–‡æœ¬æ¶¦è‰²ã€æ”¹å†™ã€å»ºè®®å’Œåˆ†ææœåŠ¡ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¤– åŒAIå¼•æ“æ”¯æŒ
- **DeepSeek AI**: ä¸“ä¸šæ–‡æœ¬æ¶¦è‰²ã€æ·±åº¦åˆ†æã€åˆ›ä½œå»ºè®®
- **è±†åŒ…AI**: å¿«é€Ÿæ–‡æœ¬æ¶¦è‰²ã€é£æ ¼è½¬æ¢ã€å†…å®¹æ”¹å†™
- æ™ºèƒ½AIæä¾›å•†é€‰æ‹©å’Œè´Ÿè½½å‡è¡¡

### ğŸ“š å®Œæ•´çš„åˆ›ä½œå·¥ä½œæµ
- **é¡¹ç›®ç®¡ç†**: åˆ›å»ºã€ç»„ç»‡å’Œç®¡ç†å°è¯´é¡¹ç›®
- **ç« èŠ‚ç¼–è¾‘**: ç›´è§‚çš„ç« èŠ‚åˆ›å»ºå’Œç¼–è¾‘ç•Œé¢
- **ç‰ˆæœ¬æ§åˆ¶**: ç« èŠ‚å†å²è®°å½•å’Œç‰ˆæœ¬æ¢å¤
- **æ–‡æ¡£ç®¡ç†**: é¡¹ç›®ç›¸å…³æ–‡æ¡£çš„åˆ†ç±»ç®¡ç†

### ğŸ¨ ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ç›´è§‚çš„ç”¨æˆ·ä½“éªŒå’Œæµç•…çš„æ“ä½œ
- å®æ—¶é¢„è§ˆå’Œç¼–è¾‘åŠŸèƒ½
- æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢

### ğŸ”’ å®‰å…¨å¯é 
- JWTä»¤ç‰Œè®¤è¯ç³»ç»Ÿ
- ç”¨æˆ·æ•°æ®éš”ç¦»å’Œä¿æŠ¤
- å®‰å…¨çš„APIæ¥å£è®¾è®¡
- å®Œæ•´çš„æƒé™æ§åˆ¶

## ğŸš€ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: NestJS (Node.js)
- **æ•°æ®åº“**: SQLite + Prisma ORM
- **è®¤è¯**: JWT + Passport
- **APIæ–‡æ¡£**: Swagger/OpenAPI
- **AIé›†æˆ**: DeepSeek API + è±†åŒ…API

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: React Context + Hooks
- **UIç»„ä»¶**: è‡ªå®šä¹‰ç»„ä»¶åº“
- **æ ·å¼**: CSS Modules + Tailwind CSS

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**: pnpm + Workspace
- **ä»£ç è´¨é‡**: ESLint + Prettier
- **æµ‹è¯•**: Playwright E2Eæµ‹è¯•
- **Gité’©å­**: Husky
- **ç±»å‹æ£€æŸ¥**: TypeScript

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
Novel Craft/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/          # NestJSåç«¯åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ modules/  # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ common/   # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ config/   # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ prisma/       # æ•°æ®åº“æ¨¡å¼
â”‚   â””â”€â”€ frontend/         # Reactå‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/ # UIç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ pages/     # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ hooks/     # è‡ªå®šä¹‰é’©å­
â”‚       â”‚   â””â”€â”€ utils/     # å·¥å…·å‡½æ•°
â”œâ”€â”€ packages/             # å…±äº«åŒ…
â”œâ”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ e2e-tests/           # E2Eæµ‹è¯•
â””â”€â”€ README.md
```

## ğŸ› ï¸ å®‰è£…å’Œè¿è¡Œ

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- pnpm 8+
- Git

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/18273778775/NovelCraft.git
cd NovelCraft
```

### 2. å®‰è£…ä¾èµ–
```bash
pnpm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿å¹¶é…ç½®ï¼š
```bash
cp apps/backend/.env.example apps/backend/.env
```

ç¼–è¾‘ `apps/backend/.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å˜é‡ï¼š
```env
# æ•°æ®åº“
DATABASE_URL="file:./dev.db"

# JWTå¯†é’¥
JWT_SECRET="your-jwt-secret-key"
JWT_EXPIRES_IN="7d"

# DeepSeek AIé…ç½®
DEEPSEEK_API_KEY="your-deepseek-api-key"
DEEPSEEK_API_URL="https://api.deepseek.com"
DEEPSEEK_MODEL="deepseek-chat"

# è±†åŒ…AIé…ç½®ï¼ˆå¯é€‰ï¼‰
DOUBAO_API_KEY="your-doubao-api-key"
DOUBAO_API_URL="https://ark.cn-beijing.volces.com/api/v3/chat/completions"
DOUBAO_MODEL_ID="doubao-seed-1-6-flash-250615"
```

### 4. åˆå§‹åŒ–æ•°æ®åº“
```bash
cd apps/backend
pnpm prisma generate
pnpm prisma db push
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

#### å¯åŠ¨åç«¯æœåŠ¡
```bash
cd apps/backend
pnpm dev
```
åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ http://localhost:3001

#### å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
cd apps/frontend
pnpm dev
```
å‰ç«¯åº”ç”¨å°†è¿è¡Œåœ¨ http://localhost:3000

### 6. è®¿é—®åº”ç”¨
- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **APIæ–‡æ¡£**: http://localhost:3001/api/docs
- **åç«¯API**: http://localhost:3001

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### 1. æ³¨å†Œè´¦æˆ·
è®¿é—® http://localhost:3000 å¹¶åˆ›å»ºæ–°è´¦æˆ·

### 2. åˆ›å»ºé¡¹ç›®
- ç‚¹å‡»"åˆ›å»ºé¡¹ç›®"æŒ‰é’®
- å¡«å†™é¡¹ç›®æ ‡é¢˜å’Œæè¿°
- å¼€å§‹æ‚¨çš„å°è¯´åˆ›ä½œ

### 3. æ·»åŠ ç« èŠ‚
- åœ¨é¡¹ç›®ä¸­ç‚¹å‡»"æ·»åŠ ç« èŠ‚"
- ç¼–å†™ç« èŠ‚å†…å®¹
- ä¿å­˜ç« èŠ‚

### 4. ä½¿ç”¨AIæ¶¦è‰²
- é€‰æ‹©è¦æ¶¦è‰²çš„æ–‡æœ¬
- é€‰æ‹©AIæä¾›å•†ï¼ˆDeepSeekæˆ–è±†åŒ…ï¼‰
- é€‰æ‹©æ¶¦è‰²é£æ ¼å’Œå‚æ•°
- è·å–AIæ¶¦è‰²ç»“æœå¹¶åº”ç”¨

### 5. ç®¡ç†ä½œå“
- æŸ¥çœ‹é¡¹ç›®ç»Ÿè®¡ä¿¡æ¯
- ç®¡ç†ç« èŠ‚é¡ºåº
- å¯¼å‡ºä½œå“å†…å®¹

## ğŸ§ª æµ‹è¯•

### è¿è¡ŒE2Eæµ‹è¯•
```bash
pnpm test:e2e
```

### è¿è¡Œå•å…ƒæµ‹è¯•
```bash
# åç«¯æµ‹è¯•
cd apps/backend
pnpm test

# å‰ç«¯æµ‹è¯•
cd apps/frontend
pnpm test
```

## ğŸ“Š AIåŠŸèƒ½æµ‹è¯•æŠ¥å‘Š

ç³»ç»Ÿå·²é€šè¿‡å®Œæ•´çš„AIåŠŸèƒ½æµ‹è¯•ï¼Œè¯¦ç»†æŠ¥å‘Šè¯·æŸ¥çœ‹ [AI_TESTING_REPORT.md](./AI_TESTING_REPORT.md)

**æµ‹è¯•ç»“æœæ‘˜è¦**:
- âœ… DeepSeek AI: 100%åŠŸèƒ½æ­£å¸¸ï¼Œ4/4æµ‹è¯•é€šè¿‡
- âœ… è±†åŒ…AI: 100%åŠŸèƒ½æ­£å¸¸ï¼Œ2/2æµ‹è¯•é€šè¿‡
- âœ… ç³»ç»Ÿæ•´ä½“: 100%å¯ç”¨æ€§ï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [DeepSeek](https://www.deepseek.com/) - æä¾›ä¸“ä¸šçš„AIæ–‡æœ¬å¤„ç†æœåŠ¡
- [ç«å±±å¼•æ“è±†åŒ…](https://www.volcengine.com/product/doubao) - æä¾›å¿«é€Ÿçš„AIæ¶¦è‰²æœåŠ¡
- [NestJS](https://nestjs.com/) - ä¼˜ç§€çš„Node.jsæ¡†æ¶
- [React](https://reactjs.org/) - å¼ºå¤§çš„å‰ç«¯æ¡†æ¶
- [Prisma](https://www.prisma.io/) - ç°ä»£åŒ–çš„æ•°æ®åº“å·¥å…·

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/18273778775/NovelCraft/issues)
- Email: 56185834+18273778775@users.noreply.github.com

---

**Novel Craft - è®©AIåŠ©åŠ›æ‚¨çš„å°è¯´åˆ›ä½œä¹‹æ—…ï¼** ğŸ‰ğŸ“šâœ¨ - AIå°è¯´æ¶¦è‰²ä¸ç¼–è¾‘ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºAIçš„æ™ºèƒ½å°è¯´æ¶¦è‰²ä¸ç¼–è¾‘å¹³å°ï¼Œä¸“æ³¨äºè¾…åŠ©ä½œè€…å®Œå–„AIç”Ÿæˆçš„åˆç¨¿ï¼Œé€šè¿‡ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„AIæŠ€æœ¯æä¾›é«˜è´¨é‡çš„ç¼–è¾‘å»ºè®®ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **æ™ºèƒ½æ¶¦è‰²**ï¼šåŸºäºä¸Šä¸‹æ–‡çš„AIæ–‡æœ¬æ¶¦è‰²å’Œæ”¹å†™
- **é¡¹ç›®ç®¡ç†**ï¼šå®Œæ•´çš„å°è¯´é¡¹ç›®ç»„ç»‡å’Œç®¡ç†
- **ç« èŠ‚ç¼–è¾‘**ï¼šå¼ºå¤§çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒMarkdown
- **è¾…åŠ©æ–‡æ¡£**ï¼šå¤§çº²ã€äººç‰©è®¾å®šç­‰è¾…åŠ©åˆ›ä½œæ–‡æ¡£ç®¡ç†
- **ç‰ˆæœ¬å†å²**ï¼šå®Œæ•´çš„ç¼–è¾‘å†å²è®°å½•å’Œç‰ˆæœ¬å›æ»š
- **æ‰¹é‡å¯¼å…¥**ï¼šæ”¯æŒMarkdownæ–‡ä»¶æ‰¹é‡å¯¼å…¥ç« èŠ‚
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šé›†æˆè±†åŒ…å’ŒDeepSeekç­‰å¤šä¸ªAIæ¨¡å‹

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### Monorepoç»“æ„
```
novel-craft/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/          # Nest.jsåç«¯API
â”‚   â””â”€â”€ frontend/         # Reactå‰ç«¯åº”ç”¨
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ shared/           # å…±äº«ç±»å‹å’Œå·¥å…·
â””â”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
```

### æŠ€æœ¯æ ˆ
- **åç«¯**: Nest.js + TypeScript + Prisma + PostgreSQL
- **å‰ç«¯**: React + TypeScript + Vite + shadcn/ui + React Query
- **AIæœåŠ¡**: è±†åŒ…(Doubao) + DeepSeek API
- **ç¼–è¾‘å™¨**: Tiptapå¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- **åŒ…ç®¡ç†**: pnpm workspace

## ğŸ“‹ å¼€å‘ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- PostgreSQL >= 14
- Git

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd novel-craft
```

### 2. å®‰è£…ä¾èµ–
```bash
pnpm install
```

### 3. ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp apps/backend/.env.example apps/backend/.env
cp apps/frontend/.env.example apps/frontend/.env

# ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥å’ŒAPIå¯†é’¥
```

### 4. æ•°æ®åº“è®¾ç½®
```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
pnpm db:generate

# æ¨é€æ•°æ®åº“æ¨¡å¼
pnpm db:push

# (å¯é€‰) è¿è¡Œç§å­æ•°æ®
pnpm db:seed
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
pnpm dev

# æˆ–åˆ†åˆ«å¯åŠ¨
pnpm backend:dev  # åç«¯æœåŠ¡ (http://localhost:3001)
pnpm frontend:dev # å‰ç«¯æœåŠ¡ (http://localhost:3000)
```

## ğŸ“š å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„è¯´æ˜

#### åç«¯ (apps/backend)
```
src/
â”œâ”€â”€ modules/              # åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ auth/            # ç”¨æˆ·è®¤è¯
â”‚   â”œâ”€â”€ users/           # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ projects/        # é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ chapters/        # ç« èŠ‚ç®¡ç†
â”‚   â”œâ”€â”€ documents/       # æ–‡æ¡£ç®¡ç†
â”‚   â””â”€â”€ ai/              # AIæœåŠ¡
â”œâ”€â”€ common/              # å…±äº«ç»„ä»¶
â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”œâ”€â”€ app.module.ts        # æ ¹æ¨¡å—
â””â”€â”€ main.ts              # åº”ç”¨å…¥å£
```

#### å‰ç«¯ (apps/frontend)
```
src/
â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # åŸºç¡€UIç»„ä»¶
â”‚   â””â”€â”€ features/       # ä¸šåŠ¡ç»„ä»¶
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰é’©å­
â”œâ”€â”€ lib/                # å·¥å…·åº“
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”œâ”€â”€ contexts/           # Reactä¸Šä¸‹æ–‡
â””â”€â”€ types/              # ç±»å‹å®šä¹‰
```

#### å…±äº«åŒ… (packages/shared)
```
src/
â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ dtos/               # æ•°æ®ä¼ è¾“å¯¹è±¡
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
```

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘
pnpm dev                 # å¯åŠ¨æ‰€æœ‰æœåŠ¡
pnpm backend:dev         # ä»…å¯åŠ¨åç«¯
pnpm frontend:dev        # ä»…å¯åŠ¨å‰ç«¯

# æ„å»º
pnpm build              # æ„å»ºæ‰€æœ‰åŒ…
pnpm shared:build       # æ„å»ºå…±äº«åŒ…

# æµ‹è¯•
pnpm test               # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test:watch         # ç›‘è§†æ¨¡å¼æµ‹è¯•

# ä»£ç è´¨é‡
pnpm lint               # ä»£ç æ£€æŸ¥
pnpm format             # ä»£ç æ ¼å¼åŒ–
pnpm type-check         # ç±»å‹æ£€æŸ¥

# æ•°æ®åº“
pnpm db:generate        # ç”ŸæˆPrismaå®¢æˆ·ç«¯
pnpm db:push            # æ¨é€æ•°æ®åº“æ¨¡å¼
pnpm db:migrate         # è¿è¡Œæ•°æ®åº“è¿ç§»
pnpm db:studio          # æ‰“å¼€Prisma Studio
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

#### åç«¯ç¯å¢ƒå˜é‡ (apps/backend/.env)
- `DATABASE_URL`: PostgreSQLæ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
- `JWT_SECRET`: JWTç­¾åå¯†é’¥
- `DOUBAO_API_KEY`: è±†åŒ…APIå¯†é’¥
- `DEEPSEEK_API_KEY`: DeepSeek APIå¯†é’¥

#### å‰ç«¯ç¯å¢ƒå˜é‡ (apps/frontend/.env)
- `VITE_API_URL`: åç«¯APIåœ°å€

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰ç–‘é—®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [æ–‡æ¡£](docs/)
2. æœç´¢ [Issues](../../issues)
3. åˆ›å»ºæ–°çš„ [Issue](../../issues/new)

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

- [x] é¡¹ç›®åŸºç¡€è®¾æ–½æ­å»º
- [ ] åç«¯æ ¸å¿ƒæ¶æ„
- [ ] å‰ç«¯åŸºç¡€æ¶æ„
- [ ] æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½
- [ ] AIé›†æˆä¸é«˜çº§åŠŸèƒ½
- [ ] æµ‹è¯•ä¸ä¼˜åŒ–
- [ ] éƒ¨ç½²ä¸å‘å¸ƒ